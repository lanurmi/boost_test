#
# Copyright (c) 2013-2015 Raffi Enficiaud
# 
#  Distributed under the Boost Software License, Version 1.0. (See accompanying
#  file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
# 


cmake_minimum_required(VERSION 2.8.11)
project(examples)
enable_testing()

# not meant to be included in the documentation
set(BOOST_ROOT ${CMAKE_SOURCE_DIR}/../../../..)
message(STATUS "$BOOST_ROOT = ${BOOST_ROOT}")

set(EXAMPLES_SRC
    example12.cpp
    example64.cpp
    example68.cpp

    boost_test_macro1.cpp
    boost_test_macro2.cpp
    )

foreach(example_file IN LISTS EXAMPLES_SRC)

  get_filename_component(example_project ${example_file} NAME_WE)

  # creates the executable
  add_executable(test_${example_project} ${example_file})
  # indicates the include paths
  target_include_directories(test_${example_project} PRIVATE ${BOOST_ROOT})

  # declares a test with our executable
  add_test(NAME test-${example_project} COMMAND test_${example_project})


endforeach(example_file)

